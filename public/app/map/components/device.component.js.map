{"version":3,"sources":["../../src/app/map/components/device.component.ts"],"names":[],"mappings":"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","file":"device.component.js","sourcesContent":["/**\r\n * Created by hiepl on 7/5/2017.\r\n */\r\n\r\nimport {Component, Input, OnInit, Output, EventEmitter} from '@angular/core';\r\nimport { MyMarker } from '../models/marker';\r\nimport $ from 'jquery';\r\n\r\n\r\n@Component({\r\n    selector: 'device-control',\r\n    templateUrl: './app/map/components/device.component.html',\r\n    styleUrls: ['./app/map/components/device.css'],\r\n})\r\n\r\nexport class DeviceComponent implements OnInit {\r\n    @Input() listDevice : MyMarker[];\r\n    @Input() is_radio? : boolean;\r\n    @Output() onSelectedDevice = new EventEmitter();\r\n    ngOnInit() {\r\n        console.log(\"control is init\");\r\n    }\r\n    onClick(marker : MyMarker, ev) {\r\n        ev.stopPropagation();\r\n        //check if checkbox is checked\r\n        // var isChecked = $(ev.target).is(':checked');\r\n        // marker.visible = isChecked;\r\n        //pan to marker\r\n        this.onSelectedDevice.emit(marker);\r\n    };\r\n    onEditDeviceName(item, $event) {\r\n        $event.preventDefault();\r\n        $event.stopPropagation();\r\n        item.isEdit = true;\r\n    };\r\n    onSave(item, $event) {\r\n        let keyCode = $event.which || $event.keyCode;\r\n        if (keyCode === 13) {\r\n            $.ajax({\r\n                \"url\" :'/tracking/update-device-number',\r\n                \"method\" : 'POST',\r\n                \"data\" : {\"device_id\": item.deviceId, \"name\" : item.deviceNumber, \"deviceNewId\": item.deviceNewId},\r\n                \"success\": function(resp) {\r\n                    if (resp.status) {\r\n                        if (resp.reload) {\r\n                            window.location.reload();\r\n                        }\r\n                        item.isEdit = false;\r\n                    } else {\r\n                        alert(resp.error);\r\n                        item.deviceNewId = item.deviceId;\r\n                    }\r\n                }\r\n            });\r\n        } else if (keyCode === 27) {\r\n            item.isEdit = false;\r\n        }\r\n    }\r\n    onSaveClick(item, $event) {\r\n        $.ajax({\r\n            \"url\" :'/tracking/update-device-number',\r\n            \"method\" : 'POST',\r\n            \"data\" : {\"device_id\": item.deviceId, \"name\" : item.deviceNumber, \"deviceNewId\": item.deviceNewId},\r\n            \"success\": function(resp) {\r\n                if (resp.status) {\r\n                    if (resp.reload) {\r\n                        window.location.reload();\r\n                    }\r\n                    item.isEdit = false;\r\n                } else {\r\n                    alert(resp.error);\r\n                    item.deviceNewId = item.deviceId;\r\n                }\r\n            }\r\n        });\r\n    }\r\n    onCancel(item, $event) {\r\n        item.isEdit = false;\r\n    }\r\n}"],"sourceRoot":"/src"}