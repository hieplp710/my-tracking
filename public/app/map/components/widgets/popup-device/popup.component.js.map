{"version":3,"sources":["../../src/app/map/components/widgets/popup-device/popup.component.ts"],"names":[],"mappings":"AAAA;;GAEG;;;;;;;;;;;;;;;;;;;;;;;;;;8BAFH;;eAEG;;gBAsBC,wBAAoB,cAA4B;oBAA5B,mBAAc,GAAd,cAAc,CAAc;oBAJhD,WAAM,GAAY,KAAK,CAAC;oBACxB,UAAK,GAAU,IAAI,CAAC;oBAIhB,yCAAyC;oBACzC,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC;gBACzB,CAAC;gBAAA,CAAC;gBACF,iCAAQ,GAAR,cAAY,CAAC;gBAAA,CAAC;gBACd,wCAAe,GAAf,cAAmB,CAAC;gBAAA,CAAC;gBACrB,uCAAc,GAAd,UAAe,KAAa,EAAE,IAAgB;oBAC1C,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;wBACP,sBAAsB;wBACtB,EAAE,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;4BACR,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;wBACvB,CAAC;wBACD,kEAAkE;wBAClE,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;4BACP,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;wBAC3B,CAAC;oBACL,CAAC;gBACL,CAAC;gBAAA,CAAC;gBACF,oCAAW,GAAX,UAAY,MAAgB;oBACxB,IAAI,QAAQ,GAAG,MAAM,GAAG,MAAM,GAAG,KAAK,CAAC;oBACvC,IAAI,QAAQ,GAAG,gBAAC,CAAC,IAAI,CAAC,gBAAC,CAAC,wCAAwC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC;oBAC1E,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE,mCAAmC,CAAC,CAAC;oBACpF,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,QAAQ,CAAC,KAAK,SAAS,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;wBAC/D,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;wBACnB,IAAI,CAAC,cAAc,CAAC,GAAG,CAAC,QAAQ,EAAE,OAAO,CAAC,CAAC;oBAC/C,CAAC;oBAAC,IAAI,CAAC,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;wBAClB,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;oBACxB,CAAC;gBACL,CAAC;gBACD,sCAAa,GAAb;oBACI,IAAI,OAAO,GAAG,gBAAC,CAAC,kCAAkC,CAAC,CAAC;oBACpD,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;wBACd,gBAAC,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;oBAC9B,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACJ,gBAAC,CAAC,aAAa,CAAC,CAAC,MAAM,EAAE,CAAC;oBAC9B,CAAC;gBACL,CAAC;gBAAA,CAAC;gBACF,gCAAO,GAAP,UAAQ,MAAM;oBACV,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;oBACpB,IAAI,CAAC,aAAa,EAAE,CAAC;gBACzB,CAAC;gBAAA,CAAC;gBA9CsB;oBAAvB,gBAAS,CAAC,WAAW,CAAC;8CAAuB,iBAAU;oEAAC;gBADhD,cAAc;oBAN1B,gBAAS,CAAC;wBACP,QAAQ,EAAE,OAAO;wBACjB,WAAW,EAAE,gEAAgE;qBAChF,CAAC;qDAUqC,oBAAa;mBAPvC,cAAc,CAgD1B;gBAAD,qBAAC;aAhDD,AAgDC;;QACD,CAAC","file":"popup.component.js","sourcesContent":["/**\r\n * Created by hiepl on 7/5/2017.\r\n */\r\n\r\nimport {Component, ElementRef, OnInit, ViewChild, AfterViewInit} from '@angular/core';\r\nimport {CookieService} from 'angular2-cookie/core';\r\n\r\nimport $ from 'jquery';\r\nimport {MyMarker} from \"../../../models/marker\";\r\n\r\n\r\n@Component({\r\n    selector: 'popup',\r\n    templateUrl: './app/map/components/widgets/popup-device/popup.component.html'\r\n})\r\n\r\n\r\nexport class PopupComponent implements OnInit, AfterViewInit {\r\n    @ViewChild('popupbody') private popupContent: ElementRef;\r\n    title: string;\r\n    isShow: boolean = false;\r\n    error? : any = null;\r\n    dataPopup: any;\r\n    deviceList: MyMarker[];\r\n    constructor(private _cookieService:CookieService) {\r\n        //this.options = new DatePickerOptions();\r\n        this.title = 'Popup';\r\n    };\r\n    ngOnInit() {};\r\n    ngAfterViewInit() {};\r\n    contentBuilder(title: string, list: MyMarker[]) {\r\n        if (list) {\r\n            //build data for popup\r\n            if (title) {\r\n                this.title = title;\r\n            }\r\n            //this.popupBody.nativeElement.innerHTML = '<h1>bla bla bla</h1>';\r\n            if (list) {\r\n                this.deviceList = list;\r\n            }\r\n        }\r\n    };\r\n    togglePopup(isHide?: boolean) {\r\n        let isHidden = isHide ? isHide : false;\r\n        let username = $.trim($('#app-navbar-collapse a.dropdown-toggle').text());\r\n        console.log(this._cookieService.get(username), 'this._cookieService.get(username)');\r\n        if (this._cookieService.get(username) === undefined && !isHidden) {\r\n            this.isShow = true;\r\n            this._cookieService.put(username, 'shown');\r\n        } else if (isHidden) {\r\n            this.isShow = false;\r\n        }\r\n    }\r\n    onToggleModal() {\r\n        let overlay = $('<div class=\"overlay open\"></div>');\r\n        if (this.isShow) {\r\n            $('body').append(overlay);\r\n        } else {\r\n            $('div.overlay').remove();\r\n        }\r\n    };\r\n    onClick($event) {\r\n        this.isShow = false;\r\n        this.onToggleModal();\r\n    };\r\n}\r\n"],"sourceRoot":"/src"}